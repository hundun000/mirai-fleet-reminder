### 定时提醒功能模块

### 【定时】整点报时

定时触发。报时文本来自配置文件。

>  <- 九点到了。罗德岛全舰正处于通常航行状态。博士，整理下航程信息吧？

配置方法：

手动编辑（重启后生效）`config\具体插件id\ReminderFunction\HourlyChatConfigV2.json`

```
{
  "SINGLETON" : {
    "items" : [ ... ]
    }
}
```

items中每一个元素是一个[ReminderItem结构](./ReminderFunction-base.md)

### 【定时】自定义时刻报时

定时触发。报时文本来自配置文件。

>  <- 现在是周日晚上10点。请博士记得完成本周剿灭作战。

配置方法：

手动编辑（重启后生效）`data\具体插件id\ReminderFunction\repositories\ReminderListRepository.json`

```
{
  "SINGLETON" : {
    "items" : [ ... ]
    }
}
```

items中每一个元素是一个[ReminderItem结构](./ReminderFunction-base.md)

#### 【指令】查看整点报时配置

**<子指令>: 查询报时**  

简单打印报时配置，仅作为调试。

>  -> /<主指令名> 查询报时  
> <- HourlyChatConfig(chatTexts={0=……, 1=……, ……})

#### 【定时】自定义提醒

定时触发。提醒任务来自data文件，见配置说明。也可通过指令创建。

>  <- 现在是周日晚上10点。请博士记得完成本周剿灭作战。

#### 【指令】创建提醒任务

**<子指令>: 创建提醒**  
**<指令参数1>: 时间条件。用~代替cron表达式中的空格**  
**<指令参数2>: 执行次数条件。值域：x次，无限次**  
**<指令参数3>: 提醒内容。即bot会发送的文本**  

>  -> /<主指令名> 创建提醒 \*\~0\~22\~?\~\*\~1 无限次 现在是周日晚上10点。请博士记得完成本周剿灭作战。  
>  <- OK

【注意】插件只会每分钟（的某一个毫秒）检查一次提醒任务，所以cron表达式中的毫秒条件只应填`*`。

#### 【指令】查看所有提醒任务

**<子指令>: 查询提醒**  

>  -> /<主指令名> 查询提醒  
>  <- items:  
>     id:0	ReminderItem(count=null, reminderMessageCodes=[现在是周日晚上10点。请博士记得完成本周剿灭作战。,IMAGE:name.jpg], cron=* 0 22 ? * 7)

#### 【指令】删除提醒任务

**<子指令>: 删除提醒**  
**<指令参数1>: id。即查询提醒里看到的id**

>  -> /<主指令名> 删除提醒 0  
>  <- OK